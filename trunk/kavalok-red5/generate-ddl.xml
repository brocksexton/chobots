<project
	name="generate-database">
  	<path id="project.classpath">
  	    <fileset dir="${basedir}/lib" includes="**/*.jar"/>
    </path>
	<taskdef name="hibernatetool"
	          classname="org.hibernate.tool.ant.HibernateToolTask"
	          classpathref="project.classpath"
				/>
	<target name="schemaexport" description="Exports a generated schema to DB and file">
	    <hibernatetool destdir="${basedir}">
	    	<classpath>
	    		<pathelement location="${basedir}/bin"/>
	    	</classpath>
	    	<annotationconfiguration configurationfile="${basedir}/src/hibernate.cfg.xml" />
	        <hbm2ddl
	             drop="true"
	             create="true"
	             export="true"
	             outputfilename="create-kavalok-db-ddl.sql"
	             delimiter=";"
	             format="true"/>
	    </hibernatetool>
		<sql driver="com.mysql.jdbc.Driver" password="root" url="jdbc:mysql://localhost/kavalok" userid="root"
			src="populate-kavalok-db.sql"
			classpathref="project.classpath"/>
	</target>

</project>