<?xml version="1.0" encoding="utf-8"?>
<CompetitionsBase 
	xmlns="com.kavalok.admin.competitions.*" xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:controls="com.kavalok.admin.controls.*"
	show="refresh()" xmlns:controls1="org.goverla.controls.*">
	<mx:Script>
		<![CDATA[
			import com.kavalok.dto.CompetitionTO;
		]]>
	</mx:Script>
	<mx:VBox
		width="100%"
		height="100%">
		<mx:Button
			label="refresh"
			click="refresh()"/>
		<mx:HBox>
			<controls:DateTimeChooser
				id="startChooser"/>
			<controls:DateTimeChooser
				id="finishChooser"/>
		</mx:HBox>
		<mx:DataGrid
			width="100%"
			height="100%"
			dataProvider="{competitions}"
			>
			<mx:columns>
				<mx:DataGridColumn
					headerText="name"
					dataField="name"/>
				<mx:DataGridColumn
					headerText="from"
					dataField="name">
					<mx:itemRenderer>
						<mx:Component>
							<mx:Label
								text="{outerDocument.formatDate(data.start)}"/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn
					headerText="to"
					dataField="name"
					>
					<mx:itemRenderer>
						<mx:Component>
							<mx:Label
								text="{outerDocument.formatDate(data.finish)}"/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn
					dataField="name"
					headerText="started">
					<mx:itemRenderer>
						<mx:Component>
							<mx:CheckBox
								selected="{data.open}"
								change="outerDocument.onStartedChange(event)"/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn
					dataField="name"
					headerText="show">
					<mx:itemRenderer>
						<mx:Component>
							<mx:Button
								label="show"
								click="outerDocument.onCompetitionSelect(event)"/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn
					dataField="name"
					headerText="show">
					<mx:itemRenderer>
						<mx:Component>
							<mx:Button
								label="clear"
								click="outerDocument.onCompetitionClear(event)"/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
			</mx:columns>
		</mx:DataGrid>
	</mx:VBox>
	<mx:VBox
		width="100%"
		height="100%">
		<mx:Label
			text="{selectedCompetition.name}"/>		
		<mx:DataGrid
			width="100%"
			height="100%"
			dataProvider="{resultsData.list}">
			<mx:columns>
				<mx:DataGridColumn
					headerText="login"
					dataField="login"/>
				<mx:DataGridColumn
					headerText="score"
					dataField="score"/>
			</mx:columns>
		</mx:DataGrid>
		<controls1:Pager
			dataProvider="{resultsData}"/>
	</mx:VBox>
</CompetitionsBase>
